---
title: "How does sidebar works"
description: "describes how client side Quartologic happens"
author: "Dario Airoldi"
date: "July 2, 2025"
date-modified: last-modified
categories: [azure, best-practices]
format:
  html:
    toc: true
    toc-depth: 3
---

# ?? **Table of Contents**

- [?? How Quarto Sidebar Works](#-how-quarto-sidebar-works)
  - [1. Core Technology Stack](#1-core-technology-stack)
  - [2. Code Location & Structure](#2-code-location--structure) 
  - [3. Core Architecture](#3-core-architecture)
- [??? Extension Options](#?-extension-options)
  - [Option 1: CSS-Only Styling](#option-1-css-only-styling-recommended-for-simple-changes)
  - [Option 2: Custom JavaScript Enhancement](#option-2-custom-javascript-enhancement-recommended-for-complex-features)
  - [Option 3: Quarto Configuration Extensions](#option-3-quarto-configuration-extensions)
  - [Option 4: Quarto Extension Development](#option-4-quarto-extension-development)
- [?? Sidebar Structure for this Quarto site](#-sidebar-structure-for-this-quarto-site)
- [?? My Recommendations](#-my-recommendations)
  - [Decision Guide](#decision-guide)
  - [Key Extension Points](#key-extension-points)

---

Lets understand:

- how the Quarto sidebar works 
- our options for extending it.
 

## ?? **How Quarto Sidebar Works**

### 1. Core Technology Stack

Quarto's sidebar is built using a combination of HTML, CSS, and JavaScript. It leverages standard web technologies ensuring high compatibility and ease of customization.

### 2. Code Location & Structure 

The code for the sidebar can be found in the `src/sidebar` directory of the Quarto repo. The main files of interest are:

- `sidebar.js`: Contains the core logic for rendering and updating the sidebar.
- `sidebar.css`: Stylesheet for the sidebar's appearance.
- `sidebar.html`: The template structure for the sidebar.

### 3. Core Architecture

The sidebar operates as a component that listens to Quarto's document events. It rebuilds its structure based on the document's sections and metadata. Middleware functions determine the active section and update the sidebar accordingly.

---

## ??? **Extension Options**

### Option 1: CSS-Only Styling {#option-1-css-only-styling-recommended-for-simple-changes}

For users who need visual adjustments or simple behavior changes, CSS offers a powerful yet straightforward way to enhance the sidebar.

**Pros:**
- Easy to implement
- No programming knowledge required
- Immediate visual feedback

**Cons:**
- Limited to styling and simple interactions
- Cannot add new functionalities

**Examples:**
```css
/* Change sidebar background color */
#quarto-sidebar {
  background-color: #f0f0f0;
}

/* Make sidebar collapsible */
#quarto-sidebar {
  transition: margin 0.3s;
}
```

### Option 2: Custom JavaScript Enhancement {#option-2-custom-javascript-enhancement-recommended-for-complex-features}

For more advanced interactions and features, custom JavaScript can be employed. This allows for dynamic content, API integrations, and complex user interactions.

**Pros:**
- Full control over behavior and interactions
- Ability to integrate with external APIs and services
- Can create complex, condition-based behaviors

**Cons:**
- Requires JavaScript knowledge
- More complex implementation and debugging

**Examples:**
```javascript
// Fetch data from an API and populate the sidebar
fetch('https://api.example.com/data')
  .then(response => response.json())
  .then(data => {
    const sidebar = document.querySelector('#quarto-sidebar');
    data.items.forEach(item => {
      let div = document.createElement('div');
      div.className = 'sidebar-item';
      div.innerText = item.name;
      sidebar.appendChild(div);
    });
  });
```

### Option 3: Quarto Configuration Extensions {#option-3-quarto-configuration-extensions}

Quarto allows certain sidebar behaviors and styles to be configured directly from the project's `_quarto.yml` file. This offers a middle-ground solution for customization.

**Pros:**
- No programming required
- Changes apply globally across the project
- Easy to use for simple configurations

**Cons:**
- Limited to the options exposed by Quarto
- Not as flexible as custom code solutions

**Examples:**
```yaml
# In _quarto.yml
sidebar:
  title: "My Custom Sidebar"
  collapsible: true
  initial_state: "collapsed"
```

### Option 4: Quarto Extension Development {#option-4-quarto-extension-development}

For those looking to deeply integrate with Quarto or provide reusable functionality for others, developing a Quarto extension is the way to go. Extensions can package together custom layouts, filters, and even JavaScript assets.

**Pros:**
- Deep integration with Quarto's ecosystem
- Ability to package and distribute functionality
- Can define new document formats or publishing workflows

**Cons:**
- Requires understanding of Quarto's extension API
- More work upfront to develop and document the extension

**Examples:**
```r
# In your Quarto extension R script
quarto::ardan_add_filter("my_custom_filter", function(x) {
  # Custom filter code
})
```

---

## ?? **Sidebar Structure for this Quarto site**

The sidebar is currently structured as a vertical navigation menu, reflecting the document's hierarchy. It consists of collapsible sections, each representing a major part of the document. The top-level items are the main sections, with nested items representing subsections.

---


## ?? **My Recommendations**

1. **Start with Option 1** - CSS-only styling for visual improvements and simple changes
2. **Move to Option 2** - Custom JavaScript like my right-nav implementation for complex features
3. **Consider Quarto extensions** for complex features you want to reuse across projects

### **Decision Guide:**
- **Need styling changes only?** ? Use Option 1 (CSS-Only)
- **Need interactive features or dynamic content?** ? Use Option 2 (JavaScript)
- **Building reusable functionality?** ? Use Option 4 (Quarto Extension)

### **Key Extension Points:**

```javascript
// Hook into Quarto's existing events
window.document.addEventListener("quarto-sectionChanged", function(e) {
  // Respond to page navigation
});

// Access sidebar structure
const sidebar = document.querySelector('#quarto-sidebar');
const sidebarItems = sidebar.querySelectorAll('.sidebar-item-text');

// Add custom behavior
sidebarItems.forEach(item => {
  item.addEventListener('click', customHandler);
});
```

The beauty of Quarto's approach is that it uses standard web technologies, making it very extensible without needing to learn framework-specific patterns!

Would you like me to help you implement a specific sidebar enhancement?