<!-- Sidebar styling and fixes -->
<style>
/* Home link special styling - make it white and prominent */
.sidebar .nav-link[href="index.qmd"],
.sidebar .sidebar-item-text[href="index.qmd"],
.sidebar a[href="index.qmd"],
.sidebar-navigation .sidebar-item-text[href="index.qmd"],
#quarto-sidebar .sidebar-item-text[href="index.qmd"] {
  font-weight: 600 !important;
  font-size: 1.1rem !important;
  color: white !important;
  background: linear-gradient(135deg, #2780e3 0%, #1967d2 100%) !important;
  border: 2px solid #2780e3 !important;
  margin-bottom: 1rem !important;
  padding: 0.8rem 1rem !important;
  border-radius: 12px !important;
  box-shadow: 0 3px 8px rgba(39, 128, 227, 0.3) !important;
  transition: all 0.3s ease !important;
  display: block !important;
}

.sidebar .nav-link[href="index.qmd"]:hover,
.sidebar .sidebar-item-text[href="index.qmd"]:hover,
.sidebar a[href="index.qmd"]:hover,
.sidebar-navigation .sidebar-item-text[href="index.qmd"]:hover,
#quarto-sidebar .sidebar-item-text[href="index.qmd"]:hover {
  background: linear-gradient(135deg, #1967d2 0%, #1557b0 100%) !important;
  transform: translateX(3px) translateY(-1px) !important;
  box-shadow: 0 6px 16px rgba(39, 128, 227, 0.4) !important;
  border-color: #1967d2 !important;
  color: white !important;
}

/* Ensure sidebar icons work with emoji fallback */
.sidebar-navigation .sidebar-item-text {
    display: inline-flex;
    align-items: center;
}

/* Bootstrap Icons spacing fix - add margin between icon and text */
.sidebar .nav-link .bi,
.sidebar .sidebar-item-text .bi,
#quarto-sidebar .sidebar-item-text .bi {
  margin-right: 0.5rem !important; /* Reduced from 0.75rem to 0.5rem */
  font-size: 1.1em !important;
}

/* General sidebar icon spacing */
.sidebar .nav-link i,
.sidebar .sidebar-item-text i,
#quarto-sidebar .sidebar-item-text i {
  margin-right: 0.5rem !important; /* Reduced from 0.75rem to 0.5rem */
  font-size: 1.1em !important;
}

/* Force Bootstrap Icons to display with proper spacing in sidebar */
.sidebar .sidebar-item-text .bi::before,
#quarto-sidebar .sidebar-item-text .bi::before {
  margin-right: 0.5rem !important; /* Reduced from 0.75rem to 0.5rem */
}

/* Section icons spacing */
.sidebar .sidebar-section > .nav-link .bi,
#quarto-sidebar .sidebar-section > .sidebar-item-text .bi {
  margin-right: 0.5rem !important; /* Reduced from 0.75rem to 0.5rem */
}

/* Also target the Home icon specifically */
.sidebar .sidebar-item-text[href="index.qmd"] .bi-house-fill,
#quarto-sidebar .sidebar-item-text[href="index.qmd"] .bi-house-fill {
  color: white !important;
  margin-right: 0.5rem !important; /* Reduced from 0.75rem to 0.5rem */
}

/* FIXED: Left sidebar hierarchical indentation and spacing */
/* Reduce spacing between sidebar items */
#quarto-sidebar .sidebar-item {
  margin-bottom: 0.02rem; /* Further reduced from 0.05rem */
}

/* Ensure proper alignment and indentation for nested items */
#quarto-sidebar .sidebar-item-text {
  display: flex;
  align-items: center;
  padding: 0.15rem 0.4rem; /* Reduced from 0.2rem 0.8rem */
  gap: 0.4rem; /* Reduced gap */
  line-height: 1.2;
}

/* Level 0: Top-level sections - "Home", "Events", "Tools", etc. */
#quarto-sidebar > .sidebar-navigation > .sidebar-item > .sidebar-item-text {
  font-weight: 600;
  padding: 0.2rem 0.4rem; /* Reduced padding */
}

/* Level 1: Second-level items - "Build Conference 2025", "Development Tools", etc. */
#quarto-sidebar .sidebar-item .sidebar-item > .sidebar-item-text {
  padding: 0.12rem 1.2rem; /* Reduced vertical and horizontal padding */
  font-size: 0.9rem;
  color: #666;
}

/* Level 2: Third-level items - "Conference Overview", "Git Command Line", etc. */
#quarto-sidebar .sidebar-item .sidebar-item .sidebar-item > .sidebar-item-text {
  padding: 0.1rem 2.0rem; /* Reduced padding */
  font-size: 0.85rem;
  color: #777;
}

/* Level 3: Fourth-level items */
#quarto-sidebar .sidebar-item .sidebar-item .sidebar-item .sidebar-item > .sidebar-item-text {
  padding: 0.1rem 2.8rem; /* Reduced padding */
  font-size: 0.8rem;
  color: #888;
}

/* Alternative selector approach for better specificity */
#quarto-sidebar .sidebar-item-container .sidebar-item-text {
  padding: 0.12rem 1.2rem !important;
}

#quarto-sidebar .sidebar-item-container .sidebar-item-container .sidebar-item-text {
  padding: 0.1rem 2.0rem !important;
}

#quarto-sidebar .sidebar-item-container .sidebar-item-container .sidebar-item-container .sidebar-item-text {
  padding: 0.1rem 2.8rem !important;
}

/* Hover effects for better UX */
#quarto-sidebar .sidebar-item-text:hover {
  background-color: rgba(248, 249, 250, 0.8);
  border-radius: 4px;
}

/* Additional fix for any Quarto-generated link classes */
#quarto-sidebar .sidebar-link {
  padding: 0.12rem 0.4rem !important;
}

/* Fix for menu text spacing */
#quarto-sidebar .menu-text {
  margin-left: 0 !important;
  padding-left: 0 !important;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('Sidebar fixes script loaded');
    
    setTimeout(function() {
        // Fix sidebar Home link styling
        const sidebarHomeLinks = document.querySelectorAll(
            '.sidebar a[href*="index"], #quarto-sidebar a[href*="index"], .sidebar-item-text[href*="index"]'
        );
        sidebarHomeLinks.forEach(link => {
            if (link.textContent.trim().toLowerCase().includes('home')) {
                console.log('Applying white styling to Home link in sidebar');
                link.style.setProperty('color', 'white', 'important');
                link.style.setProperty('background', 'linear-gradient(135deg, #2780e3 0%, #1967d2 100%)', 'important');
                link.style.setProperty('border', '2px solid #2780e3', 'important');
                link.style.setProperty('border-radius', '12px', 'important');
                link.style.setProperty('padding', '0.8rem 1rem', 'important');
                link.style.setProperty('font-weight', '600', 'important');
                link.style.setProperty('box-shadow', '0 3px 8px rgba(39, 128, 227, 0.3)', 'important');
                link.style.setProperty('margin-bottom', '1rem', 'important');
                link.classList.add('home-link-styled');
                
                // Add home icon if missing
                if (!link.querySelector('.bi-house-fill')) {
                    const homeIcon = document.createElement('i');
                    homeIcon.className = 'bi bi-house-fill';
                    homeIcon.style.marginRight = '0.75rem';
                    homeIcon.style.color = 'white';
                    link.prepend(homeIcon);
                }
            }
        });
    }, 1000);
});
</script>